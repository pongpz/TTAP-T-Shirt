<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{/fragment/head :: head}"></head>
<body class="hold-transition skin-blue sidebar-mini">
<!-- Site wrapper -->
<div class="wrapper">

    <div th:replace="~{/fragment/header :: header}"></div>

    <!-- =============================================== -->

    <!-- Left side column. contains the sidebar -->
    <div th:replace="~{/fragment/aside :: aside}"></div>

    <!-- =============================================== -->

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h1>
                Bán hàng tại quầy
                <small>it all starts here</small>
            </h1>
            <ol class="breadcrumb">
                <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
                <li><a href="#">Examples</a></li>
                <li class="active">Blank page</li>
            </ol>
        </section>

        <!-- Main content -->
        <section class="content">
            <div class="box box-default">
                <div class="box-body">
                    <div class="row">
                        <form th:action="@{/admin/chi-tiet-san-pham/add}" method="post">
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">Sản Phẩm</label>
                                    <input type="text" class="form-control" id="sanPhamTen" th:value="${listSP.ten}" readonly>
                                    <input type="hidden" name="idSanPham" th:value="${listSP.id}">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Màu Sắc</label>
                                    <select class="form-select" name="idMauSac">
                                        <option th:each="mauSac : ${listMauSac}" th:value="${mauSac.id}" th:text="${mauSac.ten}"></option>
                                    </select>
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">Chất Liệu</label>
                                    <select class="form-select" name="idChatLieu">
                                        <option th:each="chatLieu : ${listChatLieu}" th:value="${chatLieu.id}" th:text="${chatLieu.ten}"></option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Kiểu Dáng</label>
                                    <select class="form-select" name="idKieuDang">
                                        <option th:each="kieuDang : ${listKieuDang}" th:value="${kieuDang.id}" th:text="${kieuDang.ten}"></option>
                                    </select>
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">Khuyến Mãi</label>
                                    <select class="form-select" name="idKhuyenMai">
                                        <option value="" selected>không chọn</option> <!-- Tùy chọn mặc định -->
                                        <option th:each="khuyenMai : ${listKhuyenMai}" th:value="${khuyenMai.id}" th:text="${khuyenMai.ten}"></option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Nhà Sản Xuất</label>
                                    <select class="form-select" name="idNSX">
                                        <option th:each="nsx : ${listNSX}" th:value="${nsx.id}" th:text="${nsx.ten}"></option>
                                    </select>
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">Thương Hiệu</label>
                                    <select class="form-select" name="idThuongHieu">
                                        <option th:each="thuongHieu : ${listThuongHieu}" th:value="${thuongHieu.id}" th:text="${thuongHieu.ten}"></option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Kích Cỡ</label>
                                    <select class="form-select" name="idKichCo">
                                        <option th:each="kichCo : ${listKichCo}" th:value="${kichCo.id}" th:text="${kichCo.ten}"></option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">hinh anh</label>
                                    <select class="form-select" name="idHinhAnh">
                                        <option th:each="hinhAnh : ${listHinhAnh}" th:value="${hinhAnh.id}" th:text="${hinhAnh.ma}"></option>
                                    </select>
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">Giá Bán</label>
                                    <input type="number" class="form-control" name="giaBan">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Số Lượng</label>
                                    <input type="number" class="form-control" name="soLuong">
                                </div>
                            </div>

                            <button type="submit" class="btn btn-primary">Thêm</button>
                        </form>
                    </div>
                </div>
            </div>
            <!-- Default box -->
            <div class="col-xs-12">
                <div class="box">
                    <div class="box-header">
                        <h3 class="box-title">Responsive Hover Table</h3>
                        <div class="box-tools">
                            <div class="input-group input-group-sm hidden-xs" style="width: 150px;">
                                <input type="text" name="table_search" class="form-control pull-right" placeholder="Search">
                                <div class="input-group-btn">
                                    <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="box-body table-responsive no-padding">
                        <table class="table table-hover">
                            <thead>
                            <tr>
                                <th scope="col">Id</th>
                                <th scope="col">Giá Bán</th>
                                <th scope="col">Số Lượng</th>
                                <th scope="col">Tên Sản Phẩm</th>
                                <th scope="col">Hình Ảnh</th>
                                <th scope="col">Thương Hiệu</th>
                                <th scope="col">Kiểu Dáng</th>
                                <th scope="col">Khuyến Mãi</th>
                                <th scope="col">Nhà Sản Xuất</th>
                                <th scope="col">Chất Liệu</th>
                                <th scope="col">Kích Cỡ</th>
                                <th scope="col">Màu Sắc</th>
                                <th scope="col">Ảnh</th>
                                <th scope="col">Action</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="ctsp : ${listCTSP}">
                                <td th:text="${ctsp.id}"></td>
                                <td th:text="${ctsp.giaBan}"></td>
                                <td th:text="${ctsp.soLuong}"></td>
                                <td th:text="${ctsp.sanPham.ten}"></td>
                                <td>ảnh</td>
                                <td th:text="${ctsp.thuongHieu.ten}"></td>
                                <td th:text="${ctsp.kieuDang.ten}"></td>
                                <td>
                                    <span th:if="${ctsp.khuyenMai != null}" th:text="${ctsp.khuyenMai.ten}"></span>
                                    <span th:if="${ctsp.khuyenMai == null}">Không có</span>
                                </td>
                                <td th:text="${ctsp.nsx.ten}"></td>
                                <td th:text="${ctsp.chatLieu.ten}"></td>
                                <td th:text="${ctsp.kichCo.ten}"></td>
                                <td th:text="${ctsp.mauSac.ten}"></td>
                                <td>
                                    <img th:src="${ctsp.hinhAnh?.getphotoPath() ?: ''}" alt="Image" style="width: 100px; height: auto;">
                                </td>

                                <td>
                                    <a class="btn btn-primary" th:href="@{/admin/chi-tiet-san-pham/detail/{id}(id=${ctsp.id})}">Sửa</a>
                                    <a class="btn btn-danger" th:href="@{/admin/chi-tiet-san-pham/delete/{id}(id=${ctsp.id})}">Xóa</a>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                </div>
            </div>
            <!-- /.box -->

        </section>
        <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->

    <div th:replace="~{/fragment/footer :: footer}"></div>
</div>
<!-- ./wrapper -->

<!-- jQuery 3 -->

<div th:replace="~{/fragment/script :: script}"></div>
</body>
</html>
